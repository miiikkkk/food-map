<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é«˜çŸ¥å¸‚çµ¶å“ã‚°ãƒ«ãƒ¡ Map</title>
    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
    <style>
        :root {
            --primary: #FF5A5F;
            --accent: #007AFF;
            --glass: rgba(255, 255, 255, 0.85);
        }
        body { margin: 0; padding: 0; font-family: -apple-system, "Helvetica Neue", "Hiragino Kaku Gothic ProN", sans-serif; overflow: hidden; background: #f0f0f0; }
        #map { position: absolute; top: 0; bottom: 0; width: 100%; }

        .header {
            position: absolute; top: 10px; left: 10px; right: 10px;
            background: var(--glass); backdrop-filter: blur(10px);
            padding: 12px 20px; border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 10; display: flex; align-items: center; justify-content: space-between;
        }
        .header h1 { margin: 0; font-size: 1rem; color: #333; }

        .gourmet-scroller {
            position: absolute; bottom: 30px; left: 0; width: 100%;
            display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
            padding-bottom: 20px; gap: 12px; z-index: 10;
            scrollbar-width: none;
        }
        .gourmet-scroller::-webkit-scrollbar { display: none; }

        .card {
            flex: 0 0 80%; scroll-snap-align: center;
            background: white; margin-left: 20px; border-radius: 20px;
            overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            cursor: pointer;
        }
        .card:last-child { margin-right: 20px; }
        .card img { width: 100%; height: 120px; object-fit: cover; background: #eee; }
        .card-content { padding: 15px; }
        .card-tag { display: inline-block; background: #FFF0F0; color: var(--primary); padding: 2px 8px; border-radius: 6px; font-size: 0.7rem; font-weight: bold; margin-bottom: 5px; }
        .card h2 { margin: 0; font-size: 1.1rem; color: #222; }
        .card p { margin: 5px 0 0; font-size: 0.8rem; color: #666; line-height: 1.4; }

        .custom-marker { cursor: pointer; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); }

        .share-btn {
            background: var(--accent); color: white; border: none;
            padding: 8px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>ğŸ¥˜ é«˜çŸ¥å¸‚çµ¶å“ã‚°ãƒ«ãƒ¡ Map</h1>
    <button class="share-btn" onclick="shareApp()">å…±æœ‰</button>
</div>

<div id="map"></div>
<div class="gourmet-scroller" id="scroller"></div>

<script>
    const gourmetData = [
        {
            name: "ã²ã‚ã‚å¸‚å ´",
            category: "å®šç•ªãƒ»æµ·é®®",
            coords: [133.535937, 33.560116],
            desc: "é«˜çŸ¥ã®é£Ÿã¹ç‰©ãŒè‰²ã€…æ¥½ã—ã‚ã‚‹ãŠã‚¹ã‚¹ãƒ¡No.1!ã€€ <br>å–¶æ¥­æ™‚é–“ï¼šæœˆ-åœŸ 10;00-23:00 æ—¥ 9:00-23:00",
            img: "https://img-cdn.guide.travel.co.jp/article/867/34050/A62B15D3A6AA4564B3DB23298D89D023_L.jpg"
        },
        {
            name: "ã¾ã‚“ã—ã‚…ã† æœ¬åº—",
            category: "ã‚¸ãƒ£ãƒ³éºº",
            coords: [133.5516, 33.5586],
            desc: "é«˜çŸ¥ã®ã‚½ã‚¦ãƒ«ãƒ•ãƒ¼ãƒ‰ã€Œã‚¸ãƒ£ãƒ³éººã€ã€‚ãƒ›ãƒ«ãƒ¢ãƒ³ã¨åµãŒçµ¡ã‚€çµ¶å“ã‚ã‚“ã‹ã‘ï¼ğŸœã€€                                             <br>å–¶æ¥­æ™‚é–“ï¼šæœˆç«æœ¨ 11:00-14:45 17:00-21:00  åœŸæ—¥ 11:00-15:00 17:00-21:00",
            img: "https://janmen.jp/images/ogp.jpg"
        },
        {
            name: "æ˜ç¥ä¸¸ æœ¬åº—",
            category: "ã‚«ãƒ„ã‚ªã®ãŸãŸã",
            coords: [133.53976, 33.559915],
            desc: "è±ªå¿«ãªè—ç„¼ãã®ç‚ã§ç„¼ã‹ã‚ŒãŸã‚«ãƒ„ã‚ªãŒé£Ÿã¹ã‚‰ã‚Œã‚‹ï¼ğŸ”¥<br>å–¶æ¥­æ™‚é–“ï¼šç«-æ—¥ 17:00-23:30",
            img: "https://i.pinimg.com/originals/7d/a5/3b/7da53ba978b8ac94c3d08472c47d9b5c.jpg"
        },
        {
            name: "å±‹å°å®‰å…µè¡› (é¤ƒå­)",
            category: "å¤œé£Ÿãƒ»å±‹å°",
            coords: [133.5409205, 33.5632719],
            desc: "ã‚·ãƒ¡ã«ã´ã£ãŸã‚Šï¼ã€ãƒ‘ãƒªãƒƒãƒ‘ãƒªã®è–„çš®é»„é‡‘é¤ƒå­ã€‚ğŸ¥Ÿ<br>å–¶æ¥­æ™‚é–“ï¼šæœˆ-åœŸ 19:00-3:00",
            img: "https://tse3.mm.bing.net/th/id/OIP.5HE1n2fq1EdmTbIPJysp-wHaHa?pid=ImgDet&w=474&h=474&rs=1&o=7&rm=3"
        },
       {
            name: "é‹ç„¼ããƒ©ãƒ¼ãƒ¡ãƒ³ åƒç§‹",
            category: "é ˆå´åç‰©ãƒ»éºº",
            coords: [133.5449971, 33.5687982], // é«˜çŸ¥å¸‚æ–°æœ¬ç”º2ä¸ç›®15-11ã®åº§æ¨™
            desc: "é«˜çŸ¥é§…ã™ãï¼ç†±ã€…ã®åœŸé‹ã§æä¾›ã•ã‚Œã‚‹é¶ã‚¬ãƒ©é†¤æ²¹ã®æ—¨ã¿ãŒå‡ç¸®ã•ã‚ŒãŸä¸€æ¯ã€‚ğŸœ<br>å–¶æ¥­æ™‚é–“ï¼šç«-æ—¥ 11:00-15:00 18:00-21:00",
            img: "https://represent-kochi.com/wp-content/uploads/2025/04/s-DSC06920-1-1024x682.jpg"
        },
       {
            name: "ãƒ¡ãƒ•ã‚£ã‚¹ãƒˆãƒ•ã‚§ãƒ¬ã‚¹",
            category: "å–«èŒ¶ãƒ»ã‚«ãƒ•ã‚§",
            coords: [133.5355919, 33.5594744],
            desc: "å¸¯å±‹ç”ºã®è€èˆ—å–«èŒ¶åº—ã€‚ã‚¢ãƒ³ãƒ†ã‚£ãƒ¼ã‚¯ãªé›°å›²æ°—ã®ä¸­ã§æ¥½ã—ã‚€ã‚µã‚¤ãƒ•ã‚©ãƒ³çˆç²ã¨ã‚±ãƒ¼ã‚­ã€‚â˜•<br>å–¶æ¥­æ™‚é–“ï¼šæœˆ-é‡‘ 9:00-21:00  åœŸæ—¥  8:00-21:00",
            img: "https://bu-sanblog.website/wp-content/uploads/2023/12/IMG_5638-768x1024.jpg"
        },
       {
            name:"éººæˆ¿ ä¸‰å®…",
            category:"ã†ã©ã‚“",
      ã€€ã€€ã€€coords:[133.530446, 33.56967],
            desc:"ã“ã ã‚ã‚Šã®å‡ºæ±ã¨ã‚³ã‚·ã®ã‚ã‚‹éººãŒçµ¶å“ã®äººæ°—ã†ã©ã‚“åº—ã€‚<br>å–¶æ¥­æ™‚é–“ï¼šæœˆç«æœ¨é‡‘ 11:00ã€œ14:00",
            img:"https://represent-kochi.com/wp-content/uploads/2022/05/s-DSC_6307-2-1050x701.jpg"
      }
      ã€€];

    const map = new maplibregl.Map({
        container: 'map',
        style: 'https://tile.openstreetmap.jp/styles/maptiler-basic-ja/style.json',
        center: [133.5375, 33.5606],
        zoom: 14,
        pitch: 45
    });

    const scroller = document.getElementById('scroller');

    gourmetData.forEach((spot, index) => {
       
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
            <img src="${spot.img}" alt="${spot.name}">
            <div class="card-content">
                <span class="card-tag">${spot.category}</span>
                <h2>${spot.name}</h2>
                <p>${spot.desc}</p>
            </div>
        `;
        card.onclick = () => focusSpot(index);
        scroller.appendChild(card);

        
        const el = document.createElement('div');
        el.className = 'custom-marker';
        el.innerHTML = `<svg width="40" height="40" viewBox="0 0 24 24"><path d="M12 21C16 17.5 19 14.4 19 10.5C19 6.6 15.9 3.5 12 3.5C8.1 3.5 5 6.6 5 10.5C5 14.4 8 17.5 12 21Z" fill="#FF5A5F" stroke="white" stroke-width="2"/><circle cx="12" cy="10.5" r="2.5" fill="white"/></svg>`;

        new maplibregl.Marker({ element: el })
            .setLngLat(spot.coords)
            .addTo(map);
    });

    function focusSpot(index) {
        const spot = gourmetData[index];
        map.flyTo({ center: spot.coords, zoom: 16, duration: 1500 });
    }

    scroller.addEventListener('scroll', () => {
        const index = Math.round(scroller.scrollLeft / (window.innerWidth * 0.8));
        if (gourmetData[index]) {
            map.easeTo({ center: gourmetData[index].coords, duration: 800 });
        }
    });

    function shareApp() {
        if (navigator.share) {
            navigator.share({ title: 'é«˜çŸ¥å¸‚ã‚°ãƒ«ãƒ¡Map', url: window.location.href });
        } else {
            alert("URL: " + window.location.href);
        }
    }
</script>
</body>
</html>
